<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd"
                   logicalFilePath="migration/node-services.changelog-init.xml">

    <changeSet author="ING" id="node_transactions_hash_length">
        <modifyDataType tableName="node_transactions" columnName="tx_id" newDataType="NVARCHAR(96)"/>
<!--        <modifyDataType tableName="node_transaction_mappings" columnName="tx_id" newDataType="NVARCHAR(96)"/>-->
        <modifyDataType tableName="node_scheduled_states" columnName="transaction_id" newDataType="NVARCHAR(96)"/>

        <!-- This should be length of transaction_id + 3 (for the index like so: '(0)') -->
        <modifyDataType tableName="node_contract_upgrades" columnName="state_ref" newDataType="NVARCHAR(99)"/>
    </changeSet>
</databaseChangeLog>